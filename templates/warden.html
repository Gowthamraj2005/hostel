<!DOCTYPE html>
<html>
<head>
    <title>Hostel Leave Panel</title>
    <style>
        body {
            font-family: Arial;
            background-color: #2f4f88;
            color: white;
            text-align: center;
        }

        form {
            margin: 20px auto;
            padding: 20px;
            background: white;
            color: black;
            width: 350px;
            border-radius: 10px;
        }

        input {
            width: 90%;
            padding: 5px;
        }

        button {
            padding: 6px 12px;
            margin: 5px;
        }

        hr {
            margin: 40px 0;
        }
    </style>
</head>
<body>

<h2>Leave Requests</h2>

{% for req in requests %}
    <p><b>{{ req.sender }}</b> - {{ req.message }} ({{ req.time }})</p>
{% endfor %}

<hr>

<h2>Approve / Reject Leave</h2>

<form method="POST" action="/">

    Roll Number:<br>
    <input type="text" name="roll" required><br><br>

    <button type="submit">Fetch Student</button>
</form>

<hr>

{% if student %}
<form method="POST" action="/approve">

    Roll Number:<br>
    <input type="text" name="roll" value="{{ student.roll_number }}" readonly><br><br>

    Student Name:<br>
    <input type="text" value="{{ student.name }}" readonly><br><br>

    Student Phone:<br>
    <input type="text" value="{{ student.student_phone }}" readonly><br><br>

    Parent Phone:<br>
    <input type="text" value="{{ student.parent_phone }}" readonly><br><br>

    Principal Phone:<br>
    <input type="text" name="principal" value="9994415730" readonly><br><br>

    Reason:<br>
    <input type="text" name="reason" required><br><br>

    Days:<br>
    <input type="number" name="days" required><br><br>

    Start Date:<br>
    <input type="date" name="start" required><br><br>

    End Date:<br>
    <input type="date" name="end" required><br><br>

    <button type="submit" name="action" value="Approved">Approve</button>
    <button type="submit" name="action" value="Rejected">Reject</button>
</form>
{% endif %}
<hr>

<h2>Add Student (Admin)</h2>

<form method="POST" action="/add-student">
    Roll Number:<br>
    <input type="text" name="roll" required><br><br>

    Name:<br>
    <input type="text" name="name" required><br><br>

    Room:<br>
    <input type="text" name="room"><br><br>

    Student Phone:<br>
    <input type="text" name="student_phone"><br><br>

    Parent Phone:<br>
    <input type="text" name="parent_phone"><br><br>

    <button type="submit">Add / Update Student</button>
</form>

</body>
</html>

